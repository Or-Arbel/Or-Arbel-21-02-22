(this["webpackJsonpweather-app-or"]=this["webpackJsonpweather-app-or"]||[]).push([[0],{129:function(e,t,a){},130:function(e,t,a){},160:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(37),i=a.n(r),s=(a(129),a(13)),o=(a(130),a(52)),u=a(17),l=a(107),d=a(106),h=a(2);var j=function(e){var t="light"===e.theme?Object(h.jsxs)("div",{className:"modeDiv",children:[Object(h.jsx)(d.a,{size:20}),Object(h.jsx)("span",{children:"Change to dark mode"})]}):Object(h.jsxs)("div",{className:"modeDiv",children:[Object(h.jsx)(l.a,{size:20}),Object(h.jsx)("span",{children:"Change to light mode"})]});return Object(h.jsxs)("nav",{className:"nav",children:[Object(h.jsxs)("ul",{className:"nav-links",children:[Object(h.jsx)(o.b,{to:"/Or-Arbel-21-02-22/",children:Object(h.jsx)("li",{children:"Homepage"})}),Object(h.jsx)(o.b,{to:"/favorites/",children:Object(h.jsx)("li",{children:"Favorites"})})]}),Object(h.jsx)("button",{className:"modeButton",onClick:function(){e.setTheme("light"===e.theme?"dark":"light")},children:t})]})},b=a(87),m=a(46),f=a.n(m),O=a(62),x=a(58),p=a.n(x),v=a(89),y=a(213),g=a(212),w=a(217),k=a(216),N=a(215),T=a(220),C=a(218),W=a(219),F=a(221),D=a(69),S=a.n(D),A=a(45),M=a(56),E=Object(M.b)({name:"favorites",initialState:[],reducers:{add:function(e,t){e.push(t.payload)},remove:function(e,t){var a=e.findIndex((function(e){return e.id===t.payload.id}));e.splice(a,1)}}}),I=E.actions,L=I.add,K=I.remove,z=E.reducer,J=Object(M.b)({name:"city",initialState:{},reducers:{setCity:function(e,t){e.cityName=t.payload.cityName,e.country=t.payload.country,e.id=t.payload.id}}}),U=J.actions.setCity,V=J.reducer;var B=function(e){var t=Object(A.c)((function(e){return e.favorites})),a=Object(A.c)((function(e){return e.city})),n=Object(A.b)(),r=Object(c.useState)(!1),i=Object(s.a)(r,2),o=i[0],u=i[1],l=Object(c.useState)("celsius"),d=Object(s.a)(l,2),j=d[0],m=d[1],x=Object(c.useState)([]),D=Object(s.a)(x,2),M=D[0],E=D[1],I=Object(c.useState)({}),z=Object(s.a)(I,2),J=z[0],V=z[1],B=Object(c.useState)([]),q=Object(s.a)(B,2),H=q[0],P=q[1],R=function(){var e=Object(O.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("http://dataservice.accuweather.com/locations/v1/cities/geoposition/search?apikey=".concat("yxpKoLngs6WEUwvOflWDpJSk6Wd4IAlT","&q=32.109333,34.855499")).then((function(e){n(U({cityName:e.data.AdministrativeArea.LocalizedName,country:e.data.Country.LocalizedName,id:e.data.Key}))})).catch((function(e){console.warn(e)}));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){a.id||R()}),[]),Object(c.useEffect)(Object(O.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("celsius"===j,!a.id){e.next=6;break}return e.next=4,$(a.id);case 4:return e.next=6,Z(a.id);case 6:case"end":return e.stop()}}),e)}))),[a]);var Z=function(){var e=Object(O.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.a.get("http://dataservice.accuweather.com/currentconditions/v1/".concat(t,"?apikey=").concat("yxpKoLngs6WEUwvOflWDpJSk6Wd4IAlT")).then((function(e){return e.data[0]})).then((function(e){V({celsius:Math.round(e.Temperature.Metric.Value),fahrenheit:Math.round(e.Temperature.Imperial.Value),text:e.WeatherText})})).catch((function(e){console.warn(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(O.a)(f.a.mark((function e(t){var a,c,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c="",n=null!==H&&void 0!==H?H:[],e.next=5,p.a.get("http://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(t,"?apikey=").concat("yxpKoLngs6WEUwvOflWDpJSk6Wd4IAlT","&metric=true")).then((function(e){return e.data.DailyForecasts})).then((function(e){for(var t=0;t<e.length;t++)c=a[new Date(e[t].Date).getDay()],void 0===n[t]&&(n[t]={day:c}),n[t].minTempCelsius=Math.round(e[t].Temperature.Minimum.Value),n[t].maxTempCelsius=Math.round(e[t].Temperature.Maximum.Value)})).catch((function(e){console.warn(e)}));case 5:return e.sent,e.next=8,p.a.get("http://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(t,"?apikey=").concat("yxpKoLngs6WEUwvOflWDpJSk6Wd4IAlT","&metric=false")).then((function(e){return e.data.DailyForecasts})).then((function(e){for(var t=0;t<e.length;t++)c=a[new Date(e[t].Date).getDay()],n[t].minTempFahrenheit=Math.round(e[t].Temperature.Minimum.Value),n[t].maxTempFahrenheit=Math.round(e[t].Temperature.Maximum.Value)})).catch((function(e){console.warn(e)}));case 8:e.sent,P(n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){for(var e=0;e<t.length;e++)if(t[e].id===a.id)return!0;return!1},Q=function(e,t){var a;/^[a-zA-Z\s]*$/.test(t)?(a=t,p.a.get("http://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat("yxpKoLngs6WEUwvOflWDpJSk6Wd4IAlT","&q=").concat(a)).then((function(e){return e.data})).then((function(e){if(e){var t=[];e.forEach((function(e){t.push({cityName:e.LocalizedName,country:e.Country.LocalizedName,id:e.Key,key:e.Key})})),E(t)}})).catch((function(e){console.warn(e)}))):u(!0)},X=function(e,t){"clickaway"!==t&&u(!1)};return Object(h.jsx)(S.a,{children:Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{className:"light"===e.theme?"lightTitle":"darkTitle",children:"Weather App"}),Object(h.jsxs)("div",{className:"search-box",children:[Object(h.jsx)(g.a,{disablePortal:!0,id:"cities-search-box",onInputChange:function(e,t){return Q(0,t)},onChange:function(e,t){null!==t&&n(U(t))},options:M,getOptionLabel:function(e){return e.cityName},sx:{width:300},renderInput:function(e){return Object(h.jsx)(y.a,Object(b.a)(Object(b.a)({},e),{},{label:"Search City"}))}}),Object(h.jsx)(w.a,{open:o,autoHideDuration:6e3,onClose:X,children:Object(h.jsx)(k.a,{onClose:X,severity:"error",sx:{width:"100%"},children:"Please use English characters only."})})]}),Object(h.jsxs)("div",{className:"light"===e.theme?"weather-box":"weather-box dark-weather-box",children:[Object(h.jsxs)("div",{className:"weather-box-city",children:[a.id&&J.celsius?Object(h.jsxs)(h.Fragment,{children:[a.cityName,", ",a.country]}):Object(h.jsx)("div",{}),Object(h.jsxs)("button",{onClick:function(){var e;e=G(),n(!0===e?K(a):L({cityName:a.cityName,country:a.country,id:a.id,celsius:J.celsius,fahrenheit:J.fahrenheit}))},children:[G()?Object(h.jsx)(v.b,{size:20}):Object(h.jsx)(v.a,{size:20}),Object(h.jsx)("span",{children:G()?"Remove from favorites":"Add to favorites"})]})]}),Object(h.jsx)("div",{className:"temperature",children:a.id&&J.celsius?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:"celsius"===j?J.celsius+"\xb0C":J.fahrenheit+"\xb0F"}),Object(h.jsx)("h3",{children:J.text})]}):Object(h.jsx)(F.a,{})}),Object(h.jsx)(W.a,{children:Object(h.jsxs)(T.a,{row:!0,"aria-labelledby":"radio-buttons-group",value:j,name:"radio-buttons-group",onChange:function(e){return m(e.target.value)},children:[Object(h.jsx)(C.a,{value:"celsius",control:Object(h.jsx)(N.a,{}),label:"Celsius"}),Object(h.jsx)(C.a,{value:"fahrenheit",control:Object(h.jsx)(N.a,{}),label:"Fahrenheit"})]})}),Object(h.jsx)("div",{className:"futureData",children:H.map((function(e,t){return Object(h.jsx)("div",{className:"futureWeather-box",children:Object(h.jsxs)("p",{children:[e.day,Object(h.jsx)("br",{}),"celsius"===j&&e.minTempCelsius&&Object(h.jsxs)(h.Fragment,{children:[e.minTempCelsius,"\xb0C / ",e.maxTempCelsius,"\xb0C"]}),"fahrenheit"===j&&e.minTempFahrenheit&&Object(h.jsxs)(h.Fragment,{children:[e.minTempFahrenheit,"\xb0F / ",e.maxTempFahrenheit,"\xb0F"]})]})},t)}))}),Object(h.jsx)("p",{children:"\u2600 Wherever you go, no matter what the weather, always bring your own sunshine. \u2600"})]})]})})};var q=function(e){var t=Object(A.c)((function(e){return e.favorites})),a=Object(A.b)();return Object(h.jsx)(S.a,{top:!0,cascade:!0,children:Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{className:"light"===e.theme?"lightTitle":"darkTitle",children:"Favorite cities"}),t.length>0?t.map((function(e,t){return Object(h.jsxs)("div",{className:"favorite-container",children:[Object(h.jsx)("button",{className:"removeBtn",onClick:function(){return a(K(e))},children:"Remove"}),Object(h.jsxs)(o.b,{to:"/",className:"favorite-div",onClick:function(){return function(e){a(U({cityName:e.cityName,country:e.country,id:e.id}))}(e)},children:[Object(h.jsxs)("div",{children:[e.cityName,", ",e.country]}),Object(h.jsxs)("div",{style:{color:"white"},children:[e.celsius," \xb0C | ",e.fahrenheit," \xb0F"]})]})]},t)})):Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("p",{style:{color:"dark"===e.theme?"white":"black"},children:[Object(h.jsx)("span",{style:{fontWeight:"bold"},children:"No favorites yet."}),Object(h.jsx)("br",{}),"Keep track of the cities you're interested in by clicking 'Add to favorites'"]})})]})})};var H=function(){var e=Object(c.useState)("light"),t=Object(s.a)(e,2),a=t[0],n=t[1];return console.log("yxpKoLngs6WEUwvOflWDpJSk6Wd4IAlT"),Object(h.jsx)(o.a,{children:Object(h.jsxs)("div",{className:"light"===a?"app":"darkApp",children:[Object(h.jsx)(j,{theme:a,setTheme:n}),Object(h.jsxs)(u.d,{children:[Object(h.jsx)(u.b,{exact:!0,path:"/Or-Arbel-21-02-22/",component:function(){return Object(h.jsx)(B,{theme:a})}}),Object(h.jsx)(u.b,{exact:!0,path:"/favorites/",component:function(){return Object(h.jsx)(q,{theme:a})}}),Object(h.jsx)(u.a,{to:"/Or-Arbel-21-02-22/"})]})]})})},P=Object(M.a)({reducer:{favorites:z,city:V}});i.a.render(Object(h.jsx)(A.a,{store:P,children:Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(H,{})})}),document.getElementById("root"))}},[[160,1,2]]]);
//# sourceMappingURL=main.4620d5e5.chunk.js.map