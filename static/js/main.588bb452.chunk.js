(this["webpackJsonpweather-hooks-route-api-app"]=this["webpackJsonpweather-hooks-route-api-app"]||[]).push([[0],{129:function(e,t,c){},130:function(e,t,c){},160:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),i=c(37),r=c.n(i),s=(c(129),c(13)),o=(c(130),c(51)),u=c(17),h=c(107),l=c(106),d=c(2);var j=function(e){var t="light"===e.theme?Object(d.jsxs)("div",{className:"modeDiv",children:[Object(d.jsx)(l.a,{size:20}),Object(d.jsx)("span",{children:"Change to dark mode"})]}):Object(d.jsxs)("div",{className:"modeDiv",children:[Object(d.jsx)(h.a,{size:20}),Object(d.jsx)("span",{children:"Change to light mode"})]});return Object(d.jsxs)("nav",{className:"light"===e.theme?"":"dark-nav",children:[Object(d.jsxs)("ul",{className:"nav-links",children:[Object(d.jsx)(o.b,{to:"/",children:Object(d.jsx)("li",{children:"Homepage"})}),Object(d.jsx)(o.b,{to:"/favorites",children:Object(d.jsx)("li",{children:"Favorites"})})]}),Object(d.jsx)("button",{className:"modeButton",onClick:function(){e.setTheme("light"===e.theme?"dark":"light")},children:t})]})},b=c(87),m=c(54),f=c.n(m),O=c(75),x=c(61),p=c.n(x),v=c(89),y=c(213),g=c(212),N=c(217),w=c(216),k=c(215),C=c(220),T=c(218),F=c(219),S=c(221),V=c(68),M=c.n(V),D=c(45),A=c(56),E=Object(A.b)({name:"favorites",initialState:[],reducers:{add:function(e,t){e.push(t.payload)},remove:function(e,t){var c=e.findIndex((function(e){return e.id===t.payload.id}));e.splice(c,1)}}}),J=E.actions,W=J.add,z=J.remove,H=E.reducer,P=Object(A.b)({name:"city",initialState:{},reducers:{setCity:function(e,t){e.cityName=t.payload.cityName,e.country=t.payload.country,e.id=t.payload.id}}}),R=P.actions.setCity,I=P.reducer;var L=function(e){var t=Object(D.c)((function(e){return e.favorites})),c=Object(D.c)((function(e){return e.city})),n=Object(D.b)(),i=Object(a.useState)(!1),r=Object(s.a)(i,2),o=r[0],u=r[1],h=Object(a.useState)("celsius"),l=Object(s.a)(h,2),j=l[0],m=l[1],x=Object(a.useState)([]),V=Object(s.a)(x,2),A=V[0],E=V[1],J=Object(a.useState)({}),H=Object(s.a)(J,2),P=H[0],I=H[1],L=Object(a.useState)([]),G=Object(s.a)(L,2),K=G[0],Y=G[1],B=function(){var e=Object(O.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("http://dataservice.accuweather.com/locations/v1/cities/geoposition/search?apikey=".concat("PE09s2JGVeuYNJDHWAti1SumeeVbRin6","&q=32.109333,34.855499")).then((function(e){n(R({cityName:e.data.AdministrativeArea.LocalizedName,country:e.data.Country.LocalizedName,id:e.data.Key}))})).catch((function(e){console.warn(e)}));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){c.id||B()}),[]),Object(a.useEffect)((function(){var e="celsius"===j;c.id&&(Z(c.id,e),q(c.id))}),[c]);var q=function(){var e=Object(O.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.a.get("http://dataservice.accuweather.com/currentconditions/v1/".concat(t,"?apikey=").concat("PE09s2JGVeuYNJDHWAti1SumeeVbRin6")).then((function(e){return e.data[0]})).then((function(e){I({celsius:Math.round(e.Temperature.Metric.Value),fahrenheit:Math.round(e.Temperature.Imperial.Value),text:e.WeatherText})})).catch((function(e){console.warn(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(O.a)(f.a.mark((function e(t,c){var a,n,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n="",i=null!==K&&void 0!==K?K:[],e.next=5,p.a.get("http://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(t,"?apikey=").concat("PE09s2JGVeuYNJDHWAti1SumeeVbRin6","&metric=").concat(String(c))).then((function(e){return e.data.DailyForecasts})).then((function(e){for(var t=0;t<e.length;t++)n=a[new Date(e[t].Date).getDay()],void 0===i[t]&&(i[t]={day:n}),"celsius"===j?(i[t].minTempCelsius=Math.round(e[t].Temperature.Minimum.Value),i[t].maxTempCelsius=Math.round(e[t].Temperature.Maximum.Value)):(i[t].minTempFahrenheit=Math.round(e[t].Temperature.Minimum.Value),i[t].maxTempFahrenheit=Math.round(e[t].Temperature.Maximum.Value));Y(i)})).catch((function(e){console.warn(e)}));case 5:e.sent;case 6:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){"fahrenheit"===j&&K[0]&&void 0===K[0].minTempFahrenheit&&Z(c.id,!1),"celsius"===j&&K[0]&&void 0===K[0].minTempCelsius&&Z(c.id,!0)}),[j]);var $=function(){for(var e=0;e<t.length;e++)if(t[e].id===c.id)return!0;return!1},Q=function(e,t){var c;/^[a-zA-Z\s]*$/.test(t)?(c=t,p.a.get("http://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat("PE09s2JGVeuYNJDHWAti1SumeeVbRin6","&q=").concat(c)).then((function(e){return e.data})).then((function(e){if(e){var t=[];e.forEach((function(e){t.push({cityName:e.LocalizedName,country:e.Country.LocalizedName,id:e.Key,key:e.Key})})),E(t)}})).catch((function(e){console.warn(e)}))):u(!0)},U=function(e,t){"clickaway"!==t&&u(!1)};return Object(d.jsx)(M.a,{children:Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{className:"light"===e.theme?"lightTitle":"darkTitle",children:"Weather App"}),Object(d.jsxs)("div",{className:"search-box",children:[Object(d.jsx)(g.a,{disablePortal:!0,id:"cities-search-box",onInputChange:function(e,t){return Q(0,t)},onChange:function(e,t){null!==t&&n(R(t))},options:A,getOptionLabel:function(e){return e.cityName},sx:{width:300},renderInput:function(e){return Object(d.jsx)(y.a,Object(b.a)(Object(b.a)({},e),{},{label:"Search City"}))}}),Object(d.jsx)(N.a,{open:o,autoHideDuration:6e3,onClose:U,children:Object(d.jsx)(w.a,{onClose:U,severity:"error",sx:{width:"100%"},children:"Please use English characters only."})})]}),Object(d.jsxs)("div",{className:"light"===e.theme?"weather-box":"weather-box dark-weather-box",children:[Object(d.jsxs)("div",{className:"weather-box-city",children:[c.id&&P.celsius?Object(d.jsxs)(d.Fragment,{children:[c.cityName,", ",c.country]}):Object(d.jsx)("div",{}),Object(d.jsxs)("button",{onClick:function(){var e;e=$(),n(!0===e?z(c):W({cityName:c.cityName,country:c.country,id:c.id,celsius:P.celsius,fahrenheit:P.fahrenheit}))},children:[$()?Object(d.jsx)(v.b,{size:20}):Object(d.jsx)(v.a,{size:20}),Object(d.jsx)("span",{children:$()?"Remove from favorites":"Add to favorites"})]})]}),Object(d.jsx)("div",{className:"temperature",children:c.id&&P.celsius?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:"celsius"===j?P.celsius+"\xb0C":P.fahrenheit+"\xb0F"}),Object(d.jsx)("h3",{children:P.text})]}):Object(d.jsx)(S.a,{})}),Object(d.jsx)(F.a,{children:Object(d.jsxs)(C.a,{row:!0,"aria-labelledby":"radio-buttons-group",value:j,name:"radio-buttons-group",onChange:function(e){return m(e.target.value)},children:[Object(d.jsx)(T.a,{value:"celsius",control:Object(d.jsx)(k.a,{}),label:"Celsius"}),Object(d.jsx)(T.a,{value:"fahrenheit",control:Object(d.jsx)(k.a,{}),label:"Fahrenheit"})]})}),Object(d.jsx)("div",{className:"futureData",children:K.map((function(e,t){return Object(d.jsx)("div",{className:"futureWeather-box",children:Object(d.jsxs)("p",{children:[e.day,Object(d.jsx)("br",{}),"celsius"===j&&e.minTempCelsius&&Object(d.jsxs)(d.Fragment,{children:[e.minTempCelsius,"\xb0C / ",e.maxTempCelsius,"\xb0C"]}),"fahrenheit"===j&&e.minTempFahrenheit&&Object(d.jsxs)(d.Fragment,{children:[e.minTempFahrenheit,"\xb0F / ",e.maxTempFahrenheit,"\xb0F"]})]})},t)}))}),Object(d.jsx)("p",{children:"\u2600 Wherever you go, no matter what the weather, always bring your own sunshine. \u2600"})]})]})})};var G=function(e){var t=Object(D.c)((function(e){return e.favorites})),c=Object(D.b)();return Object(d.jsx)(M.a,{top:!0,cascade:!0,children:Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{className:"light"===e.theme?"lightTitle":"darkTitle",children:"Favorite cities"}),t.length>0?t.map((function(e,t){return Object(d.jsxs)("div",{className:"favorite-container",children:[Object(d.jsx)("button",{className:"removeBtn",onClick:function(){return c(z(e))},children:"Remove"}),Object(d.jsxs)(o.b,{to:"/",className:"favorite-div",onClick:function(){return function(e){c(R({cityName:e.cityName,country:e.country,id:e.id}))}(e)},children:[Object(d.jsxs)("div",{children:[e.cityName,", ",e.country]}),Object(d.jsxs)("div",{style:{color:"white"},children:[e.celsius," \xb0C | ",e.fahrenheit," \xb0F"]})]})]},t)})):Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("p",{style:{color:"dark"===e.theme?"white":"black"},children:[Object(d.jsx)("span",{style:{fontWeight:"bold"},children:"No favorites yet."}),Object(d.jsx)("br",{}),"Keep track of the cities you're interested in by clicking 'Add to favorites'"]})})]})})};var K=function(){var e=Object(a.useState)("light"),t=Object(s.a)(e,2),c=t[0],n=t[1];return Object(d.jsx)(o.a,{children:Object(d.jsxs)("div",{className:"light"===c?"app":"darkApp",children:[Object(d.jsx)(j,{theme:c,setTheme:n}),Object(d.jsxs)(u.c,{children:[Object(d.jsx)(u.a,{exact:!0,path:"/",component:function(){return Object(d.jsx)(L,{theme:c})}}),Object(d.jsx)(u.a,{exact:!0,path:"/favorites",component:function(){return Object(d.jsx)(G,{theme:c})}})]})]})})},Y=Object(A.a)({reducer:{favorites:H,city:I}});r.a.render(Object(d.jsx)(D.a,{store:Y,children:Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(K,{})})}),document.getElementById("root"))}},[[160,1,2]]]);
//# sourceMappingURL=main.588bb452.chunk.js.map