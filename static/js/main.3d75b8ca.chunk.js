(this["webpackJsonpweather-app-or"]=this["webpackJsonpweather-app-or"]||[]).push([[0],{129:function(e,t,a){},130:function(e,t,a){},160:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(37),i=a.n(r),s=(a(129),a(13)),o=(a(130),a(52)),u=a(17),l=a(107),h=a(106),d=a(2);var j=function(e){var t="light"===e.theme?Object(d.jsxs)("div",{className:"modeDiv",children:[Object(d.jsx)(h.a,{size:20}),Object(d.jsx)("span",{children:"Change to dark mode"})]}):Object(d.jsxs)("div",{className:"modeDiv",children:[Object(d.jsx)(l.a,{size:20}),Object(d.jsx)("span",{children:"Change to light mode"})]});return Object(d.jsxs)("nav",{className:"nav",children:[Object(d.jsxs)("ul",{className:"nav-links",children:[Object(d.jsx)(o.b,{to:"/",children:Object(d.jsx)("li",{children:"Homepage"})}),Object(d.jsx)(o.b,{to:"/favorites/",children:Object(d.jsx)("li",{children:"Favorites"})})]}),Object(d.jsx)("button",{className:"modeButton",onClick:function(){e.setTheme("light"===e.theme?"dark":"light")},children:t})]})},b=a(87),m=a(46),x=a.n(m),f=a(62),O=a(58),p=a.n(O),v=a(89),y=a(213),g=a(212),w=a(217),N=a(216),C=a(215),k=a(220),T=a(218),F=a(219),K=a(221),M=a(69),B=a.n(M),A=a(45),D=a(56),R=Object(D.b)({name:"favorites",initialState:[],reducers:{add:function(e,t){e.push(t.payload)},remove:function(e,t){var a=e.findIndex((function(e){return e.id===t.payload.id}));e.splice(a,1)}}}),S=R.actions,V=S.add,L=S.remove,z=R.reducer,W=Object(D.b)({name:"city",initialState:{},reducers:{setCity:function(e,t){e.cityName=t.payload.cityName,e.country=t.payload.country,e.id=t.payload.id}}}),E=W.actions.setCity,G=W.reducer;var I=function(e){var t=Object(A.c)((function(e){return e.favorites})),a=Object(A.c)((function(e){return e.city})),n=Object(A.b)(),r=Object(c.useState)(!1),i=Object(s.a)(r,2),o=i[0],u=i[1],l=Object(c.useState)("celsius"),h=Object(s.a)(l,2),j=h[0],m=h[1],O=Object(c.useState)([]),M=Object(s.a)(O,2),D=M[0],R=M[1],S=Object(c.useState)({}),z=Object(s.a)(S,2),W=z[0],G=z[1],I=Object(c.useState)([]),Y=Object(s.a)(I,2),q=Y[0],H=Y[1],J=function(){var e=Object(f.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("http://dataservice.accuweather.com/locations/v1/cities/geoposition/search?apikey=".concat("mA5KBKwmV9YlajMxsBKibdC7xRRLjG4p","&q=32.109333,34.855499")).then((function(e){n(E({cityName:e.data.AdministrativeArea.LocalizedName,country:e.data.Country.LocalizedName,id:e.data.Key}))})).catch((function(e){console.warn(e)}));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){a.id||J()}),[]),Object(c.useEffect)(Object(f.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("celsius"===j,!a.id){e.next=6;break}return e.next=4,Z(a.id);case 4:return e.next=6,P(a.id);case 6:case"end":return e.stop()}}),e)}))),[a]);var P=function(){var e=Object(f.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.a.get("http://dataservice.accuweather.com/currentconditions/v1/".concat(t,"?apikey=").concat("mA5KBKwmV9YlajMxsBKibdC7xRRLjG4p")).then((function(e){return e.data[0]})).then((function(e){G({celsius:Math.round(e.Temperature.Metric.Value),fahrenheit:Math.round(e.Temperature.Imperial.Value),text:e.WeatherText})})).catch((function(e){console.warn(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(f.a)(x.a.mark((function e(t){var a,c,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c="",n=null!==q&&void 0!==q?q:[],e.next=5,p.a.get("http://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(t,"?apikey=").concat("mA5KBKwmV9YlajMxsBKibdC7xRRLjG4p","&metric=true")).then((function(e){return e.data.DailyForecasts})).then((function(e){for(var t=0;t<e.length;t++)c=a[new Date(e[t].Date).getDay()],void 0===n[t]&&(n[t]={day:c}),n[t].minTempCelsius=Math.round(e[t].Temperature.Minimum.Value),n[t].maxTempCelsius=Math.round(e[t].Temperature.Maximum.Value)})).catch((function(e){console.warn(e)}));case 5:return e.sent,e.next=8,p.a.get("http://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(t,"?apikey=").concat("mA5KBKwmV9YlajMxsBKibdC7xRRLjG4p","&metric=false")).then((function(e){return e.data.DailyForecasts})).then((function(e){for(var t=0;t<e.length;t++)c=a[new Date(e[t].Date).getDay()],n[t].minTempFahrenheit=Math.round(e[t].Temperature.Minimum.Value),n[t].maxTempFahrenheit=Math.round(e[t].Temperature.Maximum.Value)})).catch((function(e){console.warn(e)}));case 8:e.sent,H(n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){for(var e=0;e<t.length;e++)if(t[e].id===a.id)return!0;return!1},Q=function(e,t){var a;/^[a-zA-Z\s]*$/.test(t)?(a=t,p.a.get("http://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat("mA5KBKwmV9YlajMxsBKibdC7xRRLjG4p","&q=").concat(a)).then((function(e){return e.data})).then((function(e){if(e){var t=[];e.forEach((function(e){t.push({cityName:e.LocalizedName,country:e.Country.LocalizedName,id:e.Key,key:e.Key})})),R(t)}})).catch((function(e){console.warn(e)}))):u(!0)},U=function(e,t){"clickaway"!==t&&u(!1)};return Object(d.jsx)(B.a,{children:Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{className:"light"===e.theme?"lightTitle":"darkTitle",children:"Weather App"}),Object(d.jsxs)("div",{className:"search-box",children:[Object(d.jsx)(g.a,{disablePortal:!0,id:"cities-search-box",onInputChange:function(e,t){return Q(0,t)},onChange:function(e,t){null!==t&&n(E(t))},options:D,getOptionLabel:function(e){return e.cityName},sx:{width:300},renderInput:function(e){return Object(d.jsx)(y.a,Object(b.a)(Object(b.a)({},e),{},{label:"Search City"}))}}),Object(d.jsx)(w.a,{open:o,autoHideDuration:6e3,onClose:U,children:Object(d.jsx)(N.a,{onClose:U,severity:"error",sx:{width:"100%"},children:"Please use English characters only."})})]}),Object(d.jsxs)("div",{className:"light"===e.theme?"weather-box":"weather-box dark-weather-box",children:[Object(d.jsxs)("div",{className:"weather-box-city",children:[a.id&&W.celsius?Object(d.jsxs)(d.Fragment,{children:[a.cityName,", ",a.country]}):Object(d.jsx)("div",{}),Object(d.jsxs)("button",{onClick:function(){var e;e=$(),n(!0===e?L(a):V({cityName:a.cityName,country:a.country,id:a.id,celsius:W.celsius,fahrenheit:W.fahrenheit}))},children:[$()?Object(d.jsx)(v.b,{size:20}):Object(d.jsx)(v.a,{size:20}),Object(d.jsx)("span",{children:$()?"Remove from favorites":"Add to favorites"})]})]}),Object(d.jsx)("div",{className:"temperature",children:a.id&&W.celsius?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:"celsius"===j?W.celsius+"\xb0C":W.fahrenheit+"\xb0F"}),Object(d.jsx)("h3",{children:W.text})]}):Object(d.jsx)(K.a,{})}),Object(d.jsx)(F.a,{children:Object(d.jsxs)(k.a,{row:!0,"aria-labelledby":"radio-buttons-group",value:j,name:"radio-buttons-group",onChange:function(e){return m(e.target.value)},children:[Object(d.jsx)(T.a,{value:"celsius",control:Object(d.jsx)(C.a,{}),label:"Celsius"}),Object(d.jsx)(T.a,{value:"fahrenheit",control:Object(d.jsx)(C.a,{}),label:"Fahrenheit"})]})}),Object(d.jsx)("div",{className:"futureData",children:q.map((function(e,t){return Object(d.jsx)("div",{className:"futureWeather-box",children:Object(d.jsxs)("p",{children:[e.day,Object(d.jsx)("br",{}),"celsius"===j&&e.minTempCelsius&&Object(d.jsxs)(d.Fragment,{children:[e.minTempCelsius,"\xb0C / ",e.maxTempCelsius,"\xb0C"]}),"fahrenheit"===j&&e.minTempFahrenheit&&Object(d.jsxs)(d.Fragment,{children:[e.minTempFahrenheit,"\xb0F / ",e.maxTempFahrenheit,"\xb0F"]})]})},t)}))}),Object(d.jsx)("p",{children:"\u2600 Wherever you go, no matter what the weather, always bring your own sunshine. \u2600"})]})]})})};var Y=function(e){var t=Object(A.c)((function(e){return e.favorites})),a=Object(A.b)();return Object(d.jsx)(B.a,{top:!0,cascade:!0,children:Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{className:"light"===e.theme?"lightTitle":"darkTitle",children:"Favorite cities"}),t.length>0?t.map((function(e,t){return Object(d.jsxs)("div",{className:"favorite-container",children:[Object(d.jsx)("button",{className:"removeBtn",onClick:function(){return a(L(e))},children:"Remove"}),Object(d.jsxs)(o.b,{to:"/",className:"favorite-div",onClick:function(){return function(e){a(E({cityName:e.cityName,country:e.country,id:e.id}))}(e)},children:[Object(d.jsxs)("div",{children:[e.cityName,", ",e.country]}),Object(d.jsxs)("div",{style:{color:"white"},children:[e.celsius," \xb0C | ",e.fahrenheit," \xb0F"]})]})]},t)})):Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("p",{style:{color:"dark"===e.theme?"white":"black"},children:[Object(d.jsx)("span",{style:{fontWeight:"bold"},children:"No favorites yet."}),Object(d.jsx)("br",{}),"Keep track of the cities you're interested in by clicking 'Add to favorites'"]})})]})})};var q=function(){var e=Object(c.useState)("light"),t=Object(s.a)(e,2),a=t[0],n=t[1];return Object(d.jsx)(o.a,{children:Object(d.jsxs)("div",{className:"light"===a?"app":"darkApp",children:[Object(d.jsx)(j,{theme:a,setTheme:n}),Object(d.jsxs)(u.d,{children:[Object(d.jsx)(u.b,{exact:!0,path:"/",component:function(){return Object(d.jsx)(I,{theme:a})}}),Object(d.jsx)(u.b,{exact:!0,path:"/favorites/",component:function(){return Object(d.jsx)(Y,{theme:a})}}),Object(d.jsx)(u.a,{to:"/"})]})]})})},H=Object(D.a)({reducer:{favorites:z,city:G}});i.a.render(Object(d.jsx)(A.a,{store:H,children:Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(q,{})})}),document.getElementById("root"))}},[[160,1,2]]]);
//# sourceMappingURL=main.3d75b8ca.chunk.js.map